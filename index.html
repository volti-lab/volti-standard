<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Volti Standard - Expert Dashboard</title>
    <script src="https://t1.daumcdn.net/mapjsapi/bundle/postcode/prod/postcode.v2.js"></script>
    <style>
        :root { --primary: #0070f3; --dark: #1a1a1a; --light: #f5f7f9; --accent: #e63946; --corporate: #004a99; }
        body { font-family: 'Inter', sans-serif; background: var(--light); color: var(--dark); margin: 0; line-height: 1.6; }
        
        .vix-ticker { background: var(--dark); color: #00ff00; padding: 12px 0; overflow: hidden; white-space: nowrap; font-family: monospace; position: sticky; top: 0; z-index: 100; }
        .ticker-content { display: inline-block; animation: ticker 40s linear infinite; }
        @keyframes ticker { 0% { transform: translateX(100%); } 100% { transform: translateX(-100%); } }

        header { padding: 40px; text-align: center; background: white; border-bottom: 1px solid #ddd; }
        .main-container { max-width: 1200px; margin: 30px auto; padding: 0 20px; display: grid; grid-template-columns: 1fr 1.2fr; gap: 30px; }
        
        .card { background: white; padding: 25px; border-radius: 12px; box-shadow: 0 4px 12px rgba(0,0,0,0.08); height: fit-content; }
        h2 { font-size: 1.3em; color: var(--primary); border-bottom: 2px solid var(--primary); padding-bottom: 10px; margin-top: 0; }

        /* í™•ì¥í˜• ì•„ì½”ë””ì–¸ ìŠ¤íƒ€ì¼ */
        .details-box { margin-top: 10px; border: 1px solid #eee; border-radius: 8px; overflow: hidden; }
        .details-header { background: #f8f9fa; padding: 12px 15px; cursor: pointer; display: flex; justify-content: space-between; align-items: center; font-weight: bold; font-size: 0.9em; }
        .details-content { padding: 15px; display: none; background: white; font-size: 0.85em; border-top: 1px solid #eee; }
        .toggle-btn { font-size: 1.2em; color: var(--primary); font-weight: bold; }

        input, button { width: 100%; padding: 12px; margin: 8px 0; border-radius: 6px; border: 1px solid #ccc; box-sizing: border-box; }
        button { background: var(--primary); color: white; border: none; font-weight: bold; cursor: pointer; }

        table { width: 100%; border-collapse: collapse; margin-top: 10px; font-size: 0.9em; }
        th, td { padding: 10px; text-align: left; border-bottom: 1px solid #eee; }
        
        .corporate-section { max-width: 1160px; margin: 50px auto; padding: 40px 20px; background: white; border-radius: 16px; border: 2px solid var(--corporate); }
        .corp-grid { display: grid; grid-template-columns: repeat(3, 1fr); gap: 20px; margin-top: 25px; }
        .corp-item { padding: 20px; background: #f0f7ff; border-radius: 10px; text-align: center; }
    </style>
</head>
<body>

<div class="vix-ticker">
    <div class="ticker-content">
        [LIVE VIX] KR-SEOUL: â‚©250.42 (+0.8%) | KR-JEJU: â‚©285.15 (+1.2%) | DE-BERLIN: â‚©314.90 (-0.4%) | US-CALI: â‚©342.10 (+2.1%) | í˜„ì¬ ì‹¤ì‹œê°„ íƒ„ì†Œë°°ì¶œê³„ìˆ˜(C) ë° ê¸°ìƒ ë°ì´í„°(R) ë™ê¸°í™” ì¤‘
    </div>
</div>

<header>
    <h1>Volti Standard Platform</h1>
    <p>ì—ë„ˆì§€ ë°ì´í„°ì˜ ê°€ì¹˜ë¥¼ ì •êµí•˜ê²Œ ë¶„ì„í•˜ì—¬ ì¦ëª…í•©ë‹ˆë‹¤.</p>
</header>

<div class="main-container">
    <div class="card">
        <h2>VT ê°€ì¹˜ ë¶„ì„ ì—”ì§„</h2>
        <div class="details-box">
            <div class="details-header" onclick="toggleDetails('calc-guide')">
                <span>ğŸ’¡ ì˜ˆìƒ ë°œì „ëŸ‰ í™•ì¸ ë° ì…ë ¥ ê°€ì´ë“œ</span>
                <span class="toggle-btn" id="calc-guide-btn">+</span>
            </div>
            <div id="calc-guide" class="details-content">
                â€¢ <b>ê°€ì •ìš©(3kW)</b>: ì›” í‰ê·  300~360kWh ìƒì‚°. (ë´„/ê°€ì„ ìµœëŒ€)<br>
                â€¢ <b>ì‚°ì—…ìš©(100kW)</b>: ì›” í‰ê·  10,000~12,000kWh ìƒì‚°.<br>
                â€¢ ê³ ì§€ì„œ í˜¹ì€ ì¸ë²„í„° ëª¨ë‹ˆí„°ë§ ì•±ì˜ <b>'ë‹¹ì›” ëˆ„ì  ë°œì „ëŸ‰'</b> ìˆ˜ì¹˜ë¥¼ ì…ë ¥í•˜ì„¸ìš”.
            </div>
        </div>
        
        <input type="text" id="address" placeholder="ë°œì „ì†Œ ì£¼ì†Œ ê²€ìƒ‰" readonly onclick="findAddress()">
        <button onclick="findAddress()" style="background:#666;">ì£¼ì†Œ ì°¾ê¸°</button>
        <input type="number" id="kwh" placeholder="ë°œì „ëŸ‰ ì…ë ¥ (kWh)">
        <button onclick="calculateVT()">ì‹¤ì‹œê°„ ê°€ì¹˜ ì •ë°€ ë¶„ì„</button>
        <div id="result" style="display:none; margin-top:20px; padding:15px; background:#eef6ff; border-radius:8px;"></div>
    </div>

    <div class="card">
        <h2>ì‹œì„¸ ì˜í–¥ í•­ëª© ì„¸ë¶„í™”</h2>
        
        <div class="details-box">
            <div class="details-header" onclick="toggleDetails('factor-1')">
                <span>ğŸ“ Location & Grid (ìœ„ì¹˜ ë° ê³„í†µ ì†ì‹¤)</span>
                <span class="toggle-btn" id="factor-1-btn">+</span>
            </div>
            <div id="factor-1" class="details-content">
                ì†¡ì „ ê±°ë¦¬ì— ë”°ë¥¸ ì „ë ¥ ì†ì‹¤ë¥ ì„ ê³„ì‚°í•©ë‹ˆë‹¤. ë„ì‹¬ì§€ ê·¼ì ‘ ë°œì „ì†ŒëŠ” ì†¡ì „ íš¨ìœ¨ì´ ë†’ì•„ ì¼ë°˜ ë°œì „ì†Œ ëŒ€ë¹„ <b>1.2ë°°</b> ë†’ì€ ê°€ì¹˜ë¥¼ ë¶€ì—¬ë°›ìŠµë‹ˆë‹¤.
            </div>
        </div>

        <div class="details-box">
            <div class="details-header" onclick="toggleDetails('factor-2')">
                <span>â° Time-of-Use (ì‹œê°„ëŒ€ë³„ í¬ì†Œì„±)</span>
                <span class="toggle-btn" id="factor-2-btn">+</span>
            </div>
            <div id="factor-2" class="details-content">
                ì—ë„ˆì§€ ìˆ˜ìš”ê°€ í­ì¦í•˜ëŠ” í”¼í¬ ì‹œê°„ëŒ€(ì˜¤í›„ 2~4ì‹œ) ìƒì‚° ë°ì´í„°ëŠ” ê°€ì¤‘ì¹˜ <b>1.5ë°°</b>ë¥¼ ì ìš©í•©ë‹ˆë‹¤. ë°˜ë©´ ê³µê¸‰ ê³¼ì‰ ì‹œê°„ëŒ€ëŠ” ê°€ì¹˜ê°€ í•˜ë½í•©ë‹ˆë‹¤.
            </div>
        </div>

        <div class="details-box">
            <div class="details-header" onclick="toggleDetails('factor-3')">
                <span>ğŸŒ¿ Carbon Displacement (íƒ„ì†Œ ëŒ€ì²´ íš¨ê³¼)</span>
                <span class="toggle-btn" id="factor-3-btn">+</span>
            </div>
            <div id="factor-3" class="details-content">
                í•´ë‹¹ ì§€ì—­ ì „ë ¥ë§ì˜ í™”ì„ì—°ë£Œ ë¹„ì¤‘ì´ ë†’ì„ìˆ˜ë¡ ì¬ìƒ ì—ë„ˆì§€ê°€ ëŒ€ì²´í•˜ëŠ” íƒ„ì†ŒëŸ‰ì´ ë§ì•„ì ¸ <b>VT ë‹¨ê°€</b>ê°€ ìƒìŠ¹í•©ë‹ˆë‹¤. (CBAM ëŒ€ì‘ ìˆ˜ì¹˜)
            </div>
        </div>
    </div>
</div>

<div class="corporate-section">
    <h2 style="color:var(--corporate); border:none; text-align:center;">Enterprise B2B Buyer Guide</h2>
    
    <div class="details-box" style="margin-bottom:20px;">
        <div class="details-header" onclick="toggleDetails('corp-detail')">
            <span>ğŸ“Š ê¸°ì—…ìš© ë§¤ì… ì „ëµ ë° ìƒì„¸ ìˆ˜ì¹˜ ê°€ì´ë“œ (ë§¤ì¶œ/ì˜ì—…ì´ìµ)</span>
            <span class="toggle-btn" id="corp-detail-btn">+</span>
        </div>
        <div id="corp-detail" class="details-content">
            <b>1. ë§¤ì¶œ ëŒ€ë¹„ íƒ„ì†Œ ë¹„ìš© ë°©ì–´</b><br>
            íƒ„ì†Œ êµ­ê²½ì„¸(CBAM) ì˜í–¥ê¶Œ ê¸°ì—…ì€ ì „ì²´ ë§¤ì¶œì•¡ì˜ <b>0.5~1.0%</b>ë¥¼ Volti ì¸ì¦ ìì‚°ìœ¼ë¡œ ì „í™˜í•˜ì—¬ ìˆ˜ì¶œ ê·œì œ ë¦¬ìŠ¤í¬ë¥¼ í•´ì†Œí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.<br><br>
            <b>2. ì˜ì—…ì´ìµ ë³´ì¡´ íš¨ê³¼</b><br>
            ë°°ì¶œê¶Œ ê°€ê²© ìƒìŠ¹ ì‹œ VT ì‚¬ì „ í™•ë³´ë¥¼ í†µí•´ ì ì¬ì  ë¹„ìš© ì§€ì¶œì„ ë§‰ì•„, ìµœì¢… <b>ì˜ì—…ì´ìµë¥ ì„ ì•½ 1.5%p ê°œì„ </b>í•˜ëŠ” íš¨ê³¼ê°€ ìˆìŠµë‹ˆë‹¤.
        </div>
    </div>

    <div class="corp-grid">
        <div class="corp-item"><h3>RE100 ì´í–‰</h3><p>ê¸€ë¡œë²Œ í‘œì¤€ ì¤€ìˆ˜</p></div>
        <div class="corp-item"><h3>ë¹„ìš© ì ˆê°</h3><p>íƒ„ì†Œì„¸ ì§ì ‘ ëŒ€ì‘</p></div>
        <div class="corp-item"><h3>ë¸Œëœë“œ ê°€ì¹˜</h3><p>ESG ë“±ê¸‰ ìƒí–¥</p></div>
    </div>
</div>

<script>
    function toggleDetails(id) {
        const content = document.getElementById(id);
        const btn = document.getElementById(id + '-btn');
        if (content.style.display === "block") {
            content.style.display = "none";
            btn.innerText = "+";
        } else {
            content.style.display = "block";
            btn.innerText = "-";
        }
    }

    function findAddress() {
        new daum.Postcode({
            oncomplete: function(data) {
                document.getElementById('address').value = data.address;
            }
        }).open();
    }

    async function calculateVT() {
        const kwh = document.getElementById('kwh').value;
        const addr = document.getElementById('address').value;
        if(!addr || !kwh) { alert("ë°ì´í„°ë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš”!"); return; }

        const response = await fetch(`/api/calculate?kwh=${kwh}&addr=${addr}`);
        const data = await response.json();
        
        const resultDiv = document.getElementById('result');
        resultDiv.style.display = 'block';
        resultDiv.innerHTML = `
            <h3 style="margin:0; color:#0070f3;">ë¶„ì„ ì™„ë£Œ (Verified)</h3>
            <p>ì¸ì¦ ê°€ì¹˜: <b>${data.vt} VT</b></p>
            <p>í•œí™” í™˜ì‚° ìˆ˜ìµ: <b style="color:var(--accent); font-size:1.3em;">â‚©${data.revenue}</b></p>
            <small>â€» ë³¸ ìˆ˜ì¹˜ëŠ” ì‹¤ì‹œê°„ VIX ì§€ìˆ˜ì™€ ì§€ì—­ ê³„ìˆ˜ë¥¼ ë°˜ì˜í•œ ê³µì‹ ê²°ê³¼ì…ë‹ˆë‹¤.</small>
        `;
    }
</script>

</body>
</html>