<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Volti Standard - Global Dashboard</title>
    <script src="https://t1.daumcdn.net/mapjsapi/bundle/postcode/prod/postcode.v2.js"></script>
    <style>
        :root { --primary: #0070f3; --dark: #1a1a1a; --light: #f5f7f9; --accent: #e63946; }
        body { font-family: 'Inter', sans-serif; background: var(--light); color: var(--dark); margin: 0; }
        
        /* ì‹¤ì‹œê°„ í•œí™” ì‹œì„¸ ì „ê´‘íŒ */
        .vix-ticker { background: var(--dark); color: #00ff00; padding: 12px 0; overflow: hidden; white-space: nowrap; font-family: monospace; }
        .ticker-content { display: inline-block; animation: ticker 40s linear infinite; }
        @keyframes ticker { 0% { transform: translateX(100%); } 100% { transform: translateX(-100%); } }

        header { padding: 30px; text-align: center; background: white; border-bottom: 1px solid #ddd; }
        .main-container { max-width: 1100px; margin: 30px auto; padding: 0 20px; display: grid; grid-template-columns: 1fr 1fr; gap: 30px; }
        
        .card { background: white; padding: 25px; border-radius: 12px; box-shadow: 0 4px 12px rgba(0,0,0,0.08); }
        h2 { font-size: 1.3em; color: var(--primary); border-bottom: 2px solid var(--primary); padding-bottom: 10px; }

        .guide-box { background: #fffbe6; padding: 15px; border-radius: 8px; border-left: 4px solid #ffe58f; font-size: 0.9em; margin-bottom: 15px; }
        input, button { width: 100%; padding: 12px; margin: 8px 0; border-radius: 6px; border: 1px solid #ccc; box-sizing: border-box; }
        button { background: var(--primary); color: white; border: none; font-weight: bold; cursor: pointer; }

        .price-table { width: 100%; border-collapse: collapse; margin-top: 10px; }
        .price-table td { padding: 12px 5px; border-bottom: 1px solid #eee; }
        .price-val { text-align: right; font-weight: bold; }
    </style>
</head>
<body>

<div class="vix-ticker">
    <div class="ticker-content">
        [LIVE VIX KRW] ğŸ‡°ğŸ‡· ì„œìš¸: â‚©250 (+2.1) | ğŸ‡©ğŸ‡ª ë² ë¥¼ë¦°: â‚©315 (-1.4) | ğŸ‡ºğŸ‡¸ ë‰´ìš•: â‚©285 (+0.8) | ğŸ‡ºğŸ‡¸ ìº˜ë¦¬í¬ë‹ˆì•„: â‚©340 (+5.2) | ğŸ‡¯ğŸ‡µ ë„ì¿„: â‚©265 (+0.3) | ğŸ‡¦ğŸ‡º ì‹œë“œë‹ˆ: â‚©290 (-0.5)
    </div>
</div>

<header>
    <h1>Volti Global Standard</h1>
    <p>ì—ë„ˆì§€ì˜ ë¬¼ë¦¬ì  ì–‘(kWh)ì„ ë„˜ì–´ ê²½ì œì  ê°€ì¹˜(VT)ë¥¼ í™•ì¸í•˜ì„¸ìš”.</p>
</header>

<div class="main-container">
    <div class="card">
        <h2>VT ë¶„ì„ ë° ìˆ˜ìµ ê³„ì‚°</h2>
        
        <div class="guide-box">
            <b>ğŸ’¡ ì˜ˆìƒ ë°œì „ëŸ‰(kWh) í™•ì¸ íŒ</b><br>
            â€¢ ê°€ì •ìš©(3kW): í•œ ë‹¬ í‰ê·  ì•½ 300~350kWh ë°œê¸‰<br>
            â€¢ ê³ ì§€ì„œì˜ 'ë‹¹ì›” ë°œì „ëŸ‰' í•­ëª©ì„ í™•ì¸í•˜ì„¸ìš”[cite: 26].
        </div>

        <input type="text" id="address" placeholder="ì£¼ì†Œ ê²€ìƒ‰ì„ í´ë¦­í•˜ì„¸ìš”" readonly onclick="findAddress()">
        <button onclick="findAddress()" style="background:#666; margin-bottom:15px;">ì£¼ì†Œ ê²€ìƒ‰</button>
        
        <input type="number" id="kwh" placeholder="ë°œì „ëŸ‰ ì…ë ¥ (kWh)">
        <button onclick="calculateVT()">ì‹¤ì‹œê°„ ê°€ì¹˜ ë¶„ì„ ì‹¤í–‰</button>
        
        <div id="result" style="display:none; margin-top:20px; padding:15px; background:#eef6ff; border-radius:8px;"></div>
    </div>

    <div class="card">
        <h2>Global Market (KRW ê¸°ì¤€)</h2>
        <p style="font-size:0.85em; color:#666;">*ì „ ì„¸ê³„ ì£¼ìš” ë„ì‹œì˜ 1 VTë‹¹ í‰ê·  ê±°ë˜ ì‹œì„¸ì…ë‹ˆë‹¤[cite: 120].</p>
        <table class="price-table">
            <tr><td>ğŸ‡°ğŸ‡· ëŒ€í•œë¯¼êµ­ ì„œìš¸</td><td class="price-val">â‚©250</td></tr>
            <tr><td>ğŸ‡©ğŸ‡ª ë…ì¼ ë² ë¥¼ë¦°</td><td class="price-val">â‚©315</td></tr>
            <tr><td>ğŸ‡ºğŸ‡¸ ë¯¸êµ­ ìº˜ë¦¬í¬ë‹ˆì•„</td><td class="price-val">â‚©340</td></tr>
            <tr><td>ğŸ‡ºğŸ‡¸ ë¯¸êµ­ ë‰´ìš•</td><td class="price-val">â‚©285</td></tr>
            <tr><td>ğŸ‡¯ğŸ‡µ ì¼ë³¸ ë„ì¿„</td><td class="price-val">â‚©265</td></tr>
        </table>
        <div style="margin-top:20px; font-size:0.85em; line-height:1.6;">
            <b>ì™œ ê°€ê²©ì´ ë‹¤ë¥¸ê°€ìš”?</b><br>
            í•´ë‹¹ ì§€ì—­ì˜ íƒ„ì†Œ ë°°ì¶œëŸ‰(C), ì „ë ¥ ìˆ˜ìš”(L), ì‹ ì¬ìƒ ì—ë„ˆì§€ ì‹ ë¢°ë„(R)ì— ë”°ë¼ 1kWhë‹¹ ìƒì„±ë˜ëŠ” VT ê°€ì¹˜ê°€ ë‹¤ë¥´ê¸° ë•Œë¬¸ì…ë‹ˆë‹¤[cite: 105, 106].
        </div>
    </div>
</div>

<script>
    function findAddress() {
        new daum.Postcode({
            oncomplete: function(data) {
                document.getElementById('address').value = data.address;
            }
        }).open();
    }

    async function calculateVT() {
        const kwh = document.getElementById('kwh').value;
        const addr = document.getElementById('address').value;
        if(!addr || !kwh) { alert("ì£¼ì†Œì™€ ë°œì „ëŸ‰ì„ ì…ë ¥í•´ì£¼ì„¸ìš”!"); return; }

        const response = await fetch(`/api/calculate?kwh=${kwh}&addr=${addr}`);
        const data = await response.json();
        
        const resultDiv = document.getElementById('result');
        resultDiv.style.display = 'block';
        resultDiv.innerHTML = `
            <h3 style="margin:0; color:#0070f3;">ë¶„ì„ ì™„ë£Œ</h3>
            <p>ì¸ì¦ ê°€ì¹˜: <b>${data.vt} VT</b></p>
            <p>í•œí™” í™˜ì‚° ìˆ˜ìµ: <b style="color:var(--accent); font-size:1.4em;">â‚©${data.revenue}</b></p>
            <small>ê²€ì¦ ë ˆë²¨: Level 1 (Self-Report) [cite: 25]</small>
        `;
    }
</script>

</body>
</html>